<svg id="SvgjsSvg1458" width="877" height="920" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1459"><marker id="SvgjsMarker1488" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1489" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1501" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1502" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1505" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1506" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1512" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1513" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1517" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1518" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1524" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1525" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1534" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1535" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1557" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1558" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1562" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1563" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1460" transform="translate(25.00223214285711,25.006696428571423)"><path id="SvgjsPath1461" d="M 0 0L 827.1428571428571 0L 827.1428571428571 869.2857142857142L 0 869.2857142857142Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1462"><foreignObject id="SvgjsForeignObject1463" width="807.1428571428571" height="16" x="10" style="overflow:visible;" y="426.6428571428571"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 807.143px; word-break: break-word; border: 0px;"></div></foreignObject></g></g><g id="SvgjsG1464" transform="translate(61.57366071428565,57.00669642857139)"><path id="SvgjsPath1465" d="M 50.31360946745562 30L 50.31360946745562 782.230769230769" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1466" d="M 0 0L 100.62721893491124 0L 100.62721893491124 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1467"><foreignObject id="SvgjsForeignObject1468" width="80.62721893491124" height="30" x="10" style="overflow:visible;" y="0"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 12px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 15px; width: 80.6272px; word-break: break-word; border: 0px;">Resource<div>Owner</div></div></foreignObject></g></g><g id="SvgjsG1469" transform="translate(191.58188047581638,57.00669642857139)"><path id="SvgjsPath1470" d="M 50.79891563260125 30L 50.79891563260125 782.230769230769" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1471" d="M 0 0L 101.5978312652025 0L 101.5978312652025 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1472"><foreignObject id="SvgjsForeignObject1473" width="81.5978312652025" height="15" x="10" style="overflow:visible;" y="7.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 12px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 15px; width: 81.5978px; word-break: break-word; border: 0px;">Client</div></foreignObject></g></g><g id="SvgjsG1474" transform="translate(513.0529506551139,57.00669642857139)"><path id="SvgjsPath1475" d="M 51.28994082840188 30L 51.28994082840188 782.230769230769" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1476" d="M 0 0L 102.57988165680376 0L 102.57988165680376 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1477"><foreignObject id="SvgjsForeignObject1478" width="82.57988165680376" height="30" x="10" style="overflow:visible;" y="0"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 12px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 15px; width: 82.5799px; word-break: break-word; border: 0px;">Authorization<div>Server</div></div></foreignObject></g></g><g id="SvgjsG1479" transform="translate(657.7275068681314,57.00669642857139)"><path id="SvgjsPath1480" d="M 54.46153846153862 30L 54.46153846153862 782.230769230769" stroke-dasharray="3,4" stroke="#323232" stroke-width="2" fill="none"></path><path id="SvgjsPath1481" d="M 0 0L 108.92307692307725 0L 108.92307692307725 30L 0 30Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1482"><foreignObject id="SvgjsForeignObject1483" width="88.92307692307725" height="30" x="10" style="overflow:visible;" y="0"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 12px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 15px; width: 88.9231px; word-break: break-word; border: 0px;">Resource<div>Server</div></div></foreignObject></g></g><g id="SvgjsG1484" transform="translate(227.369746285519,134.6220810439559)"><path id="SvgjsPath1485" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 96Q 30 100 26 100L 4 100Q 0 100 0 96L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1486"><path id="SvgjsPath1487" d="M243.90820782398026 134.6220810439559L562.8044299450544 134.6220810439559" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1488)"></path><foreignObject id="SvgjsForeignObject1490" width="133" height="16" x="336.85631888451735" y="126.62208104395589"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Authorization Request</div></foreignObject></g><g id="SvgjsG1491" transform="translate(549.342891483516,134.6220810439559)"><path id="SvgjsPath1492" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 519.0769230769229Q 30 523.0769230769229 26 523.0769230769229L 4 523.0769230769229Q 0 523.0769230769229 0 519.0769230769229L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1493" transform="translate(276.4967376373624,152.55107512679606)"><path id="SvgjsPath1494" d="M 0 0L 244.1538461538463 0L 260.1538461538463 16L 260.1538461538463 54.37869822485206L 0 54.37869822485206L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1495" d="M 244.1538461538463 0L 244.1538461538463 16L 260.1538461538463 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1496" d="M 0 0L 244.1538461538463 0L 260.1538461538463 16L 260.1538461538463 54.37869822485206L 0 54.37869822485206L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1497"><foreignObject id="SvgjsForeignObject1498" width="240.1538461538463" height="32" x="10" style="overflow:visible;" y="11.18934911242603"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 240.154px; word-break: break-word; border: 0px;">client_id, redirect_uri, response_type=code, [scope, state]</div></foreignObject></g></g><g id="SvgjsG1499"><path id="SvgjsPath1500" d="M456.6505837912087 318.46823489010995L456.6505837912087 318.46823489010995" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1501)"></path></g><g id="SvgjsG1503"><path id="SvgjsPath1504" d="M549.7275068681319 277.6990041208792L110.7334240278953 275.8317725813673" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1505)"></path><foreignObject id="SvgjsForeignObject1507" width="279" height="16" x="190.73046544801355" y="268.76538835112325"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Redirect to Resource owner authentication url</div></foreignObject></g><g id="SvgjsG1508" transform="translate(96.88727018174129,275.5688266060864)"><path id="SvgjsPath1509" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 40.437869822485084Q 30 44.437869822485084 26 44.437869822485084L 4 44.437869822485084Q 0 44.437869822485084 0 40.437869822485084L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1510"><path id="SvgjsPath1511" d="M110.34880864327982 319.92781263598715L549.7275068681319 318.46823489010995" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1512)"></path><foreignObject id="SvgjsForeignObject1514" width="249" height="32" x="205.5381577557058" y="303.1980237630486"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Login with user credentials<div></div> Grant or deny the client's access request</div></foreignObject></g><g id="SvgjsG1515"><path id="SvgjsPath1516" d="M549.7275068681319 383.08361950549454L242.80246843803116 386.78310411606225" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1517)"></path><foreignObject id="SvgjsForeignObject1519" width="143" height="16" x="324.7649876530815" y="376.93336181077836"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Authorization Response</div></foreignObject></g><g id="SvgjsG1520" transform="translate(227.37033473762602,386.16054258241763)"><path id="SvgjsPath1521" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 393.6923076923076Q 30 397.6923076923076 26 397.6923076923076L 4 397.6923076923076Q 0 397.6923076923076 0 393.6923076923076L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1522"><path id="SvgjsPath1523" d="M257.3703347376258 585.0066964285714L257.3703347376258 585.0066964285714" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1524)"></path></g><g id="SvgjsG1526" transform="translate(271.8847092765966,404.85876743448864)"><path id="SvgjsPath1527" d="M 0 0L 248.76587451461205 0L 264.76587451461205 16L 264.76587451461205 67.71935756551136L 0 67.71935756551136L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1528" d="M 248.76587451461205 0L 248.76587451461205 16L 264.76587451461205 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1529" d="M 0 0L 248.76587451461205 0L 264.76587451461205 16L 264.76587451461205 67.71935756551136L 0 67.71935756551136L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1530"><foreignObject id="SvgjsForeignObject1531" width="244.76587451461205" height="32" x="10" style="overflow:visible;" y="17.85967878275568"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 244.766px; word-break: break-word; border: 0px;">code, <span style="font-size: inherit;">[state=the excat value receive from the client]</span></div></foreignObject></g></g><g id="SvgjsG1532"><path id="SvgjsPath1533" d="M256.6505837912084 507.69900412087895L549.7275068681319 510.00669642857133" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1534)"></path><foreignObject id="SvgjsForeignObject1536" width="138" height="16" x="334.18904532967014" y="500.85285027472514"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Access Token Request</div></foreignObject></g><g id="SvgjsG1537" transform="translate(271.88472165058954,529.2647756274795)"><path id="SvgjsPath1538" d="M 0 0L 253.37743816319983 0L 269.3774381631998 16L 269.3774381631998 69.31334937252052L 0 69.31334937252052L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1539" d="M 253.37743816319983 0L 253.37743816319983 16L 269.3774381631998 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1540" d="M 0 0L 253.37743816319983 0L 269.3774381631998 16L 269.3774381631998 69.31334937252052L 0 69.31334937252052L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1541"><foreignObject id="SvgjsForeignObject1542" width="249.37743816319983" height="32" x="10" style="overflow:visible;" y="18.65667468626026"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 249.377px; word-break: break-word; border: 0px;">grant_type=authorization_code, <span style="font-size: inherit;">code, </span><div><span style="font-size: inherit;">client_id, </span><span style="font-size: inherit;">redirect_uri</span></div></div></foreignObject></g></g><g id="SvgjsG1543" transform="translate(271.8847216505895,644.8587674344885)"><path id="SvgjsPath1544" d="M 0 0L 253.37743816319994 0L 269.37743816319994 16L 269.37743816319994 73.71935756551147L 0 73.71935756551147L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1545" d="M 253.37743816319994 0L 253.37743816319994 16L 269.37743816319994 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1546" d="M 0 0L 253.37743816319994 0L 269.37743816319994 16L 269.37743816319994 73.71935756551147L 0 73.71935756551147L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1547"><foreignObject id="SvgjsForeignObject1548" width="249.37743816319994" height="32" x="10" style="overflow:visible;" y="20.859678782755736"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 249.377px; word-break: break-word; border: 0px;">access_token, expires_in, refresh_token, token_type, other_parameters, ...</div></foreignObject></g></g><g id="SvgjsG1549" transform="translate(593.831860973879,464.2403917273562)"><path id="SvgjsPath1550" d="M 0 0L 206.02751402612103 0L 222.02751402612103 16L 222.02751402612103 167.3377332726438L 0 167.3377332726438L 0 0Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1551" d="M 206.02751402612103 0L 206.02751402612103 16L 222.02751402612103 16" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1552" d="M 0 0L 206.02751402612103 0L 222.02751402612103 16L 222.02751402612103 167.3377332726438L 0 167.3377332726438L 0 0Z" stroke="#323232" stroke-width="2" fill="none"></path><g id="SvgjsG1553"><foreignObject id="SvgjsForeignObject1554" width="202.02751402612103" height="112" x="10" style="overflow:visible;" y="27.668866636321894"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 202.028px; word-break: break-word; border: 0px;">如果 Client 是confidential类型的，或者在注册时生成了credentials，那么在请求Access Token时，Authorization Server要对其进行认证。一种方式是Client在请求中包含Authorization首部以提供client_id和client_secret。</div></foreignObject></g></g><g id="SvgjsG1555"><path id="SvgjsPath1556" d="M549.7275068681319 624.622081043956L256.6505837912084 625.3913118131867" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1557)"></path><foreignObject id="SvgjsForeignObject1559" width="148" height="16" x="329.18904532967014" y="617.0066964285713"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Access Token Response</div></foreignObject></g><g id="SvgjsG1560"><path id="SvgjsPath1561" d="M256.6505837912084 744.6220810439559L695.8813530219779 744.6220810439559" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1562)"></path><foreignObject id="SvgjsForeignObject1564" width="298" height="16" x="327.2659684065932" y="736.6220810439559"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Request Protected Resources with Access Token</div></foreignObject></g><g id="SvgjsG1565" transform="translate(697.1890453296701,694.6220810439559)"><path id="SvgjsPath1566" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 96Q 30 100 26 100L 4 100Q 0 100 0 96L 0 4Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1567" transform="translate(343.5736607142855,844.2924107142854)"><path id="SvgjsPath1568" d="M 0 0L 207.14285714285717 0L 207.14285714285717 40.000000000000114L 0 40.000000000000114Z" stroke="none" fill="none"></path><g id="SvgjsG1569"><foreignObject id="SvgjsForeignObject1570" width="207.14285714285717" height="18" x="0" style="overflow:visible;" y="11.000000000000057"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 14px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 700; line-height: 18px; width: 207.143px; word-break: break-word; border: 0px;">Authorization Code Grant</div></foreignObject></g></g></svg>